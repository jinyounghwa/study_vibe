# 10부. 트러블슈팅 및 FAQ

## 학습 목표
이 장을 마치면 다음을 이해하게 됩니다:
- 바이브코딩 개발 중 발생하는 자주 있는 문제들
- 각 문제의 원인과 해결 방법
- 효율성을 향상시키는 실용적인 팁
- 팀에 바이브코딩 도입하는 방법
- 비용을 최적화하는 전략

---

## 10.1 자주 발생하는 문제들

### 문제 1: "AI가 요구사항을 잘못 이해할 때"

#### 증상
```
개발자: "사용자 로그인 기능을 만들어줘"
Claude: [Google OAuth만 구현함]
개발자: "이건 아니야. 이메일/비밀번호 로그인이 필요해"
```

#### 원인
- 요구사항이 너무 간단
- 컨텍스트 부족
- 기술 스택 미명시

#### 해결 방법

**방법 1: 명확한 스펙 제공**
```
Before (❌):
"로그인 기능"

After (✅):
"이메일과 비밀번호로 로그인하는 기능:
- 엔드포인트: POST /api/auth/login
- 입력: {email: string, password: string}
- 출력: {token: string, user: {id, email, name}}
- 기술 스택: Node.js, Express, PostgreSQL"
```

**방법 2: 컨텍스트 제공**
```
"우리 프로젝트는 [Skills 파일]을 따른다.
이를 기반으로 로그인 기능을 구현해줘"
```

**방법 3: 예시 코드 제공**
```
"다음은 비슷한 기능인 회원가입 API다.
[기존 회원가입 코드]

위와 같은 패턴으로 로그인 API를 만들어줘"
```

---

### 문제 2: "생성된 코드가 동작하지 않을 때"

#### 증상
```
개발자: "생성된 코드를 실행했는데 에러가 난다"

에러 메시지:
TypeError: Cannot read property 'id' of undefined
at userService.js:42
```

#### 원인
- 환경 변수 미설정
- 의존성 설치 안 됨
- 데이터베이스 초기화 안 됨
- 코드의 논리 오류

#### 해결 방법

**Step 1: 에러 로그 수집**
```
실행 환경:
- Node.js 버전: 18.0
- npm 버전: 9.0
- OS: macOS

에러:
TypeError: Cannot read property 'id' of undefined

전체 스택 트레이스:
[전체 에러 로그]

실행 명령어:
npm start

입력값:
[어떤 입력으로 에러가 발생했는가]
```

**Step 2: Claude에 보고**
```
개발자: "이 코드를 실행했는데 에러가 난다:

[에러 로그]

원인이 뭔가? 어떻게 해야 하나?"

Claude: "원인은 [원인]이다.
해결 방법:
1. [해결 단계 1]
2. [해결 단계 2]
3. [확인 방법]"
```

**Step 3: 단계별 디버깅**
```
만약 해결이 안 되면:

개발자: "위의 해결 방법을 따랐는데 여전히 에러가 난다.

추가 정보:
- [Step 1의 결과]
- [Step 2의 결과]
- [현재 환경 상태]

로그:
[새로운 에러 로그]"
```

**Step 4: 테스트 케이스로 재현**
```
개발자: "간단한 테스트로 재현하고 싶어:

[최소한의 코드로 문제 재현]

이 코드로 에러를 재현할 수 있어?
문제가 뭔가?"
```

---

### 문제 3: "컨텍스트가 너무 길어질 때"

#### 증상
```
개발자: "최근 대화가 너무 길어졌다.
Claude가 이전 대화 내용을 자꾸 잊는 것 같다"

컨텍스트 길이: 50,000 토큰 (매우 길음)
```

#### 원인
- 너무 많은 코드 복사-붙여넣기
- 긴 에러 로그
- 중복된 대화

#### 해결 방법

**방법 1: 새 대화 시작**
```
지금까지의 대화를 종료하고 새로운 대화 시작

새 대화에서:
"이전 대화 요약:
- 만들고 있는 것: [프로젝트명]
- 진행 상황: [현재까지의 진행 상황]
- 다음 할 일: [다음 단계]
- 사용 기술: [기술 스택]
- 코드 경로: [코드 위치]

계속해서 [다음 기능]을 구현해줘"
```

**방법 2: 중요한 정보만 요약**
```
Before (❌):
"[전체 프로젝트 코드 복사]
이걸 개선해줘"

After (✅):
"현재 프로젝트 구조:
- src/services/userService.ts에서 사용자 조회 로직 처리
- src/controllers/userController.ts에서 라우팅 처리

문제점: 응답 시간이 2초(목표: 500ms)

최적화 방향:
- 데이터베이스 쿼리 개선
- 캐싱 추가

현재 쿼리: [쿼리만 복사]
최적화해줄 수 있어?"
```

**Method 3: 파일 참조 사용 (Claude Code)**
```
Claude Code를 사용하면:

개발자: "src/services/userService.ts를 열어서
쿼리 성능을 분석해줄 수 있어?"

Claude Code: [파일 자동 읽기]
→ 전체 컨텍스트에 영향 없음
→ 효율적인 대화 가능
```

---

### 문제 4: "도구별 특정 이슈"

#### Web Interface 문제

**문제**: "파일을 업로드했는데 안 보인다"
```
해결:
1. 파일 크기 확인 (최대 100MB)
2. 파일 형식 확인 (.txt, .md, .json 등)
3. 업로드 완료 대기 (진행 표시기 완료까지)
```

**문제**: "Projects에서 파일이 동기화 안 된다"
```
해결:
1. 새로고침 (Cmd+R)
2. 다른 프로젝트 방문 후 돌아오기
3. 로그아웃 후 재로그인
```

#### Claude Code 문제

**문제**: "파일 수정이 안 된다"
```
해결:
1. 파일 권한 확인
2. 디렉토리 권한 확인
3. 절대 경로 사용 확인
```

**문제**: "명령어 실행이 안 된다"
```
해결:
1. 경로 확인 (pwd로 현재 위치 확인)
2. 권한 확인 (ls -la로 권한 확인)
3. 환경 변수 확인 (echo $PATH)
```

#### Cursor/Windsurf 문제

**문제**: "코드 완성이 느리다"
```
해결:
1. 프로젝트 다시 인덱싱
2. 불필요한 파일 .gitignore에 추가
3. node_modules 제외
```

**문제**: "컨텍스트가 정확하지 않다"
```
해결:
1. 관련 파일 미리 열기
2. README.md에 아키텍처 설명 추가
3. Skills 파일 생성
```

---

## 10.2 효율성 향상 팁

### 팁 1: 프롬프트 템플릿 활용

자주 사용하는 요청은 템플릿으로 저장

```markdown
# 내 프롬프트 템플릿 모음

## API 엔드포인트 구현

```
[Skills 기반] 다음 API 엔드포인트를 구현해줘:

메서드: [POST/GET/PUT/DELETE]
경로: [/api/...]
입력: [{필드명: 타입, ...}]
출력: [{필드명: 타입, ...}]
검증: [검증 규칙]
에러: [에러 상황]
권한: [권한 요구사항]

참고:
[관련 코드/문서]
```

## 기능 추가

```
현재 코드:
[기존 코드]

추가할 기능:
- [기능 1]
- [기능 2]

제약사항:
- [기술 제약]
- [성능 제약]
```

## 버그 수정

```
현재 상황:
[코드]

문제:
- 에러: [에러 로그]
- 재현: [재현 방법]
- 예상 결과: [어떻게 작동해야 함]
- 실제 결과: [실제 작동]

원인 파악 및 해결해줄 수 있어?
```

## 성능 최적화

```
현재 성능:
- 시간: [시간]
- 메모리: [메모리]
- 쿼리: [쿼리 수]

목표:
- 시간: [목표 시간]
- 메모리: [목표 메모리]
- 쿼리: [목표 쿼리 수]

코드:
[코드]

최적화해줄 수 있어?
```
```

### 팁 2: 자주 쓰는 스펙 패턴 라이브러리화

반복되는 스펙은 문서화

```markdown
# 스펙 템플릿 라이브러리

## REST API CRUD 스펙

```
엔드포인트: [리소스명]

1. CREATE
   POST /api/[resources]
   입력: {[필드들]}
   출력: 201 + {[리소스 정보]}

2. READ
   GET /api/[resources]/{id}
   출력: 200 + {[리소스 정보]}

3. UPDATE
   PUT /api/[resources]/{id}
   입력: {[필드들]}
   출력: 200 + {[리소스 정보]}

4. DELETE
   DELETE /api/[resources]/{id}
   출력: 204
```

## 페이지네이션 스펙

```
쿼리 파라미터:
- page: 페이지 번호 (기본값: 1)
- pageSize: 한 페이지 크기 (기본값: 20, 최대: 100)

응답:
{
  "data": [...],
  "pagination": {
    "page": number,
    "pageSize": number,
    "total": number,
    "totalPages": number
  }
}
```

## 인증 스펙

```
엔드포인트: POST /api/auth/login
입력: {email, password}
출력: {token, refreshToken, expiresIn}
에러: 401 Invalid credentials
```
```

### 팁 3: 개발 속도 vs 코드 품질 균형

```
상황별 전략:

프로토타입 단계 (빠른 속도 우선):
- 스펙: 대략적으로만
- 테스트: 최소한만
- 리뷰: 빠른 검증만
→ 개발 속도: 매우 빠름
→ 코드 품질: 낮음

초기 개발 (속도와 품질 균형):
- 스펙: 구체적으로 작성
- 테스트: 단위 테스트 필수
- 리뷰: 기능 리뷰 + 코드 리뷰
→ 개발 속도: 중간
→ 코드 품질: 높음

프로덕션 (품질 우선):
- 스펙: 매우 상세
- 테스트: 단위 + 통합 + E2E
- 리뷰: 엄격한 리뷰
→ 개발 속도: 느림
→ 코드 품질: 매우 높음
```

---

## 10.3 팀 도입 가이드

### 팀원 교육 프로그램

#### Week 1: 기초
```
Day 1-2: 바이브코딩 철학
- 전통 개발 vs 바이브코딩
- AI를 도구로 활용하는 방법
- 기대값 설정

Day 3-4: Claude 사용법
- Web Interface 튜토리얼
- Claude Code CLI 설치
- 기본 명령어 학습

Day 5: 첫 프로젝트
- 간단한 기능을 Claude와 함께 구현
- 코드 리뷰 및 피드백
```

#### Week 2: 심화
```
Day 1: 스펙 작성
- 좋은 스펙의 조건
- 스펙 작성 연습
- 팀 스펙 리뷰

Day 2-3: 개발 실전
- 실제 기능 구현
- 에러 디버깅
- 성능 최적화

Day 4-5: 협업
- 코드 리뷰 프로세스
- AI 코드 검증
- 지속적 개선
```

### 점진적 도입 전략

#### Phase 1: 파일럿 (1-2주)

```
참가자: 선뜻 자원한 2-3명
목표: 문제점 파악 및 프로세스 정립

작업:
- 작은 기능 1-2개 구현
- 도구 설정 최적화
- 팀 가이드 작성

결과:
- 작동하는 프로토콜 확립
- 팀 문서화 작성
- 문제점 파악
```

#### Phase 2: 확산 (2-4주)

```
참가자: 전체 팀
목표: 전사 도입

작업:
- 파일럿 결과 공유
- 전체 팀 교육
- 점진적 도입

일정:
- Week 1: 교육
- Week 2-3: 실전 프로젝트
- Week 4: 프로세스 조정
```

#### Phase 3: 최적화 (1개월 이상)

```
목표: 팀의 워크플로우 최적화

작업:
- 정기 회고 (주1회)
- 프로세스 개선
- 도구 활용도 높이기
- Skills 지속적 개선
```

### 성공 사례 공유 및 개선

```
주간 회의:
"이번 주 바이브코딩 경험 공유"

좋았던 점:
- 어떤 작업이 빨라졌는가?
- 어떤 기능이 쉬워졌는가?
- 예상 밖의 장점은?

개선 필요 사항:
- 무엇이 잘 안 되었는가?
- 어떤 부분이 복잡했는가?
- 프로세스 개선점은?

액션 아이템:
- 다음주에 해볼 시도
- 문서 업데이트
- Skills 개선
```

---

## 10.4 비용 최적화 전략

### Claude API 토큰 사용량 관리

#### 토큰 사용 추정

```
일반적인 개발 작업 (하루):

작업 1: 기능 구현 요청
- 입력: 프롬프트 + 관련 코드 (약 2,000 토큰)
- 출력: 생성 코드 (약 2,000 토큰)
- 합계: 4,000 토큰

작업 2: 코드 리뷰
- 입력: 코드 + 피드백 (약 3,000 토큰)
- 출력: 리뷰 및 개선안 (약 2,000 토큰)
- 합계: 5,000 토큰

작업 3: 버그 디버깅
- 입력: 에러 로그 + 코드 (약 2,000 토큰)
- 출력: 해결책 (약 1,500 토큰)
- 합계: 3,500 토큰

일일 총합: 12,500 토큰
월간 예상: 약 250,000 토큰

비용 (Claude 3.5 Sonnet 기준):
- 입력: $3/1M 토큰
- 출력: $15/1M 토큰
- 월간 비용: 약 $5-10
```

#### 비용 절감 방법

**방법 1: Haiku 모델 사용**
```
간단한 작업에는 더 저렴한 Claude 3.5 Haiku 사용

비용 비교:
- Sonnet: $3/$15 (입력/출력)
- Haiku: $0.8/$4 (입력/출력)
- 저감액: 약 70%

적합한 작업:
- 간단한 코드 완성
- 빠른 질문 답변
- 기본 리뷰
```

**방법 2: 배치 처리 (Batch API)**
```
여러 요청을 한꺼번에 처리

가격:
- 일반 API: 정가
- Batch API: 50% 할인

제약:
- 즉시 응답 불가 (24시간 내)
- 적합한 작업에만 사용

예시:
- 여러 파일의 배치 코드 리뷰
- 밤새 자동 분석
```

**방법 3: 무료 도구 활용**
```
무료:
- Web Interface (매일 일정 사용량)
- Claude Code 기본 모드
- Aider (오픈소스)
- Continue.dev (오픈소스)

비용 0으로도 많이 사용 가능
```

### 무료/유료 도구 조합 전략

```
월 예산 $20일 때:

전략 1: 단일 유료 도구
- Cursor ($20)
- 나머지는 무료 도구들
- 가장 간단, 일관성 높음

전략 2: 멀티 도구
- Claude Code API ($5-10)
- Web Interface 무료 사용
- Aider 무료
- 각 도구의 강점 활용

전략 3: 팀 중심
- Web Interface (무료)
- 일부 팀원만 Cursor ($20)
- 나머지는 Claude Code (무료)
- 협업 중심, 확장 가능
```

### 프로젝트 단계별 도구 전환

```
프로토타입 단계:
- 도구: Web Interface + v0.dev (무료)
- 비용: $0
- 목표: 빠른 검증

초기 개발:
- 도구: Cursor ($20) + Claude Code ($5)
- 비용: $25/월
- 목표: 완전한 구현

유지보수:
- 도구: Web Interface (무료) + Claude Code (필요시만)
- 비용: $0-5/월
- 목표: 효율적인 유지보수

비용 최적화:
- 단계별로 도구 전환
- 전체 월간 비용 $30/월 정도로 유지 가능
```

---

## 10.5 FAQ

### Q1: "Claude Code와 Cursor, 어느 것을 선택해야 하나?"

**A**: 다음을 고려하세요:

| 항목 | Claude Code | Cursor |
|-----|-----------|--------|
| 비용 | API 비용만 ($5-15) | $20/월 |
| 설치 | CLI 설치 필요 | IDE 설치 필요 |
| 터미널 | 강함 | 약함 |
| IDE 통합 | 약함 | 강함 |
| 프론트엔드 | 약함 | 강함 |
| 백엔드 | 강함 | 중간 |

**추천**:
- 백엔드: Claude Code
- 프론트엔드: Cursor
- 풀스택: 둘 다 (각 역할별)

---

### Q2: "AI 코드를 얼마나 믿어야 하나?"

**A**: 절대 신뢰하지 마세요.

```
AI 코드 신뢰도:
- 보안: 50% (반드시 리뷰 필수)
- 성능: 70% (테스트 필수)
- 정확성: 85% (스펙 검증 필수)
- 스타일: 95% (미세 조정만)

항상 확인할 것:
□ 보안 취약점
□ 에러 처리
□ 성능 (N+1 쿼리 등)
□ 스펙 준수
□ 테스트 커버리지
```

---

### Q3: "Claude가 최신 기술을 모르면 어떻게 하나?"

**A**: MCP와 Web Search를 활용하세요.

```
방법 1: Web Search 활용
- Web Interface에서 "웹 검색 활성화"
- 최신 정보 기반 답변

방법 2: MCP로 정보 제공
- 최신 문서를 로컬에서 MCP로 제공
- Claude가 최신 정보 참고

방법 3: 명시적으로 알려주기
- "2024년 React 19를 사용한다"
- "[최신 문서 링크]를 참고해서 구현"
```

---

### Q4: "팀 규모가 작으면 어떻게 도입하나?"

**A**: 작은 팀이 오히려 유리합니다.

```
2-3명 팀 도입 전략:

Week 1:
- 한 명이 Claude Code 시작
- 일일 공유 (30분)
- 프로세스 정리

Week 2:
- 두 번째 사람 참여
- 페어 코딩 (Claude와 함께)
- Skills 작성 시작

Week 3:
- 세 번째 사람 참여
- 팀 워크플로우 확정
- 재정 검토

장점:
- 빠른 결정
- 빠른 피드백
- 문화 변화 쉬움
```

---

### Q5: "보안이 우려되는데 자사 코드를 제공해도 되나?"

**A**: API 사용 시 주의하세요.

```
Web Interface:
- Anthropic이 데이터를 보관하지만 개선에 사용하지 않음
- Privacy 설정으로 추가 보호 가능

API 사용:
- 자신의 인프라에서 실행
- 데이터는 요청/응답 시에만 전송
- 가장 안전

조심해야 할 것:
- 민감한 데이터 (API 키, 암호 등) 제공 금지
- 미삭제 개인정보 제공 금지
- 저작권 있는 코드 공개 금지
```

---

### Q6: "생성된 코드가 느린데 어떻게 해야 하나?"

**A**: 성능 최적화를 요청하세요.

```
Step 1: 현재 성능 측정
"이 코드의 성능을 측정해줄 수 있어?
[코드]

테스트 조건: 100,000개 데이터
결과: 응답 시간 3초, 메모리 500MB"

Step 2: 목표 설정
"목표:
- 응답 시간: 500ms
- 메모리: 100MB"

Step 3: 최적화 요청
"목표를 달성하도록 최적화해줄 수 있어?
병목 지점:
- [병목 1]
- [병목 2]

최적화 방향 제안:
- [방법 1]
- [방법 2]"

Step 4: 검증
"최적화 후 성능을 다시 측정해줄 수 있어?"
```

---

## 학습 체크리스트

이 장을 완료한 후 다음 항목들을 확인하세요:

- [ ] 자주 발생하는 6가지 문제와 해결법을 알고 있다
- [ ] 에러가 발생했을 때 효과적으로 보고할 수 있다
- [ ] 프롬프트 템플릿을 활용해 효율성을 높일 수 있다
- [ ] 팀에 바이브코딩을 도입하는 방법을 알고 있다
- [ ] 비용을 최적화하면서 효율성을 유지할 수 있다
- [ ] FAQ의 주요 답변들을 알고 있다
- [ ] 자신의 상황에 맞는 도구와 전략을 선택할 수 있다
